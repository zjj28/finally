<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>创新腾飞·追光之轨（2017年）</title>

    <style>
        body {
            background-color: white;
            color: black;
            font-family: Arial, sans-serif;
        }

        h1 {
            color: #1f4e79;
            font-size: 48px;
            margin-bottom: 10px;
        }

        h2 {
            color: #1f4e79;
            font-size: 36px;

            margin-bottom: 40px;
            text-align: center;
        }

        .subtitle1 {
            font-size: 30px;
            color: #1f4e79;
            text-align: left !important;
        }

        .subtitle {
            font-size: 24px;
            color: #1f4e79;
            text-align: center;
            margin-bottom: 40px;
        }

        p {
            font-size: 21px;
            line-height: 1.6;
            margin-bottom: 20px;
            text-indent: 2em;
            /* 首行缩进 2 个字符 */

        }

        h3 {
            color: #1f4e79;
            font-size: 24px;
            margin-top: 30px;
            margin-bottom: 15px;
            text-align: center;

        }


        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .image-caption {
            text-align: center;
            font-size: 16px;
            color: #666;
            margin-top: 10px;
            margin-bottom: 50px;
        }

        img {
            width: 70%;
            /* 宽度为上一级 div 的 70% */
            height: auto;
            /* 高度自动调整，保持比例 */
            display: block;
            /* 避免图片下方有空白 */
            border-radius: 8px;
            /* 圆角效果 */
            margin: 0 auto;
            /* 水平居中 */
        }


        /* 对比图展示 */
        .comparison {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-item {
            flex: 1;
            text-align: center;
        }

        .comparison-item img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .comparison-item p {
            margin-top: 10px;
            font-size: 16px;
            color: #000000;
        }

        .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .card {
            position: relative;
            width: 300px;
            height: 300px;
            background: #d9ddeb;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
        }

        .card img {
            width: 100%;
            height: 60%;
            object-fit: cover;
        }

        .card-content {
            padding: 20px;
            background: #fff;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .card:hover .card-content {
            transform: translateY(0);
        }

        .card-content h3 {
            margin-top: 0;
            font-size: 20px;
            color: #1f4e79;
        }

        .card-content p {
            font-size: 14px;
            line-height: 1.6;
            color: #333;
        }

        @media (max-width: 768px) {
            .card {
                width: 100%;
                height: 300px;
            }

            .card img {
                height: 50%;
            }
        }
    </style>
    <style>
        button:focus {
            outline: 0;
        }

        canvas {
            background-color: #b4bedc;
        }

        .container {
            display: flex;
            width: 100%;
            height: 100%;
            flex-flow: column wrap;
            justify-content: center;
            padding-top: 50px;
        }

        #ui {
            display: flex;
            align-items: center;
            font-size: 30px;
            flex-flow: column;

            ;
        }

        .df {
            font-weight: 900;
            font-size: 30px;
            letter-spacing: 8px;
            transform: rotate(0deg);
            color: #485d96;

        }

        #score {
            margin-top: 20px;
            font-size: 30px;
            font-weight: 800;
            color: #485d96;
            /* 移除旋转 */
            transform: rotate(0deg);
        }

        .noselect {
            user-select: none;
        }

        #replay {
            font-size: 30px;
            padding: 20px 20px;
            background: #485d96;
            border: none;
            color: #ffffff;
            border-radius: 40px;
            font-weight: 800;
            /* 移除旋转 */
            transform: rotate(0deg);
            cursor: pointer;
            transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        #replay:hover {
            background: #8594be;

            transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        #replay svg {
            margin-right: 8px;
        }

        @media (max-width: 600px) {
            #replay {
                margin-bottom: 20px;
            }

            #replay,
            h2 {
                /* 移除旋转 */
                transform: rotate(0deg);
            }

            #ui {
                flex-flow: row wrap;
                margin-bottom: 20px;
            }

            #score {
                margin-top: 0;
                margin-left: 20px;
            }

            .container {
                flex-flow: column wrap;
            }
        }

        .wrapper {
            display: flex;
            flex-direction: column;
            /* 垂直排列 */
            align-items: center;
            /* 水平居中 */
            gap: 20px;
            /* 行间距 */
        }
    </style>
</head>

<body>

    <div class="container">
        <!-- 主标题和副标题 -->
        <h1>创新腾飞·追光之轨（2017年）</h1>
        <div class="subtitle1">复兴号标准动车组投入运营，实现完全自主知识产权</div>
        <p> 2017年是中国高铁发展的一个重要里程碑，这一年，中国自主研发的 “复兴号” 动车组正式投入运营，标志着中国高铁技术从 “追赶者” 到 “领跑者”
            的转变。复兴号不仅是中国高铁技术的集大成者，更是中国制造和中国创新的象征。</p>

        <!-- 京沪高铁通车 -->
        <h2>复兴号的诞生</h2>
        <p>中国高铁起步较晚，但发展迅速。2008年，中国第一条高铁——京津城际铁路开通运营，标志着中国进入高铁时代。
            经过多年的技术积累和创新，中国高铁逐渐形成了自己的技术体系，但仍依赖部分国外技术。</p>
        <!-- 大图 -->
        <div style="position: relative;">
            <!-- 图片 -->
            <img src="static/image/exploration/5-1.jpg">
            <div class="image-caption">命名仪式现场</div>
            <p>2017年6月25日，由中国铁路总公司牵头组织研制、具有完全自主知识产权、达到世界先进水平的中国标准动车组被命名为“复兴号”。</p>

        </div>

        <div class="card-container">
            <!-- 完全自主知识产权 -->
            <div class="card">
                <img src="static/image/exploration/5-5.jpg" alt="完全自主知识产权">
                <div class="card-content">
                    <h3>完全自主知识产权</h3>
                    <p>复兴号的核心技术全部由中国自主研发，不再依赖国外技术。</p>
                </div>
            </div>

            <!-- 智能化 -->
            <div class="card">
                <img src="static/image/exploration/5-6.jpg" alt="智能化">
                <div class="card-content">
                    <h3>智能化</h3>
                    <p>配备了智能化感知系统，能够实时监测列车运行状态，确保安全。</p>
                </div>
            </div>

            <!-- 低能耗 -->
            <div class="card">
                <img src="static/image/exploration/5-7.jpg" alt="低能耗">
                <div class="card-content">
                    <h3>低能耗</h3>
                    <p>能耗比“和谐号”降低约17%，更加环保。</p>
                </div>
            </div>

            <!-- 速度 -->
            <div class="card">
                <img src="static/image/exploration/5-8.jpg" alt="速度">
                <div class="card-content">
                    <h3>速度</h3>
                    <p>设计时速350公里，最高试验时速400公里。</p>
                </div>
            </div>

            <!-- 舒适性 -->
            <div class="card">
                <img src="static/image/exploration/5-9.jpg" alt="舒适性">
                <div class="card-content">
                    <h3>舒适性</h3>
                    <p>车厢空间更大，座椅更舒适，噪音更低。</p>
                </div>
            </div>

            <!-- 安全性 -->
            <div class="card">
                <img src="static/image/exploration/5-4.jpg" alt="安全性">
                <div class="card-content">
                    <h3>安全性</h3>
                    <p>采用了先进的防碰撞系统和故障自诊断系统。</p>
                </div>
            </div>
        </div>


        <!-- 京沪高铁通车 -->
        <h2>国际合作与“走出去”战略</h2>
        <p>中国高铁起步较晚，但发展迅速。2008年，中国第一条高铁——京津城际铁路开通运营，标志着中国进入高铁时代。
            经过多年的技术积累和创新，中国高铁逐渐形成了自己的技术体系，但仍依赖部分国外技术。</p>

        <!-- 对比图展示 -->
        <div class="comparison">
            <div class="comparison-item">
                <img src="static/image/exploration/5-2.jpg" alt="2011年中国高铁网络图">
                <h3>雅万高铁</h3>
                <p><strong>时间</strong>：2017年5月</p>
                <p>雅万高铁(雅加达一万隆)是中国高铁”走出去"的首个标志性项。
                    全长142公里，设计时速350公里，预计2022年通车。这是中国高铁技术、标准、设备和运营管理全面“走出去”的重要一步</p>

            </div>
            <div class="comparison-item">
                <img src="static/image/exploration/5-3.jpg" alt="京沪高铁通车仪式">
                <h3>中欧班列</h3>
                <p><strong>时间</strong>：2011年3月</p>
                <p>2017年，中欧班列开行数量达到3673列，同比增长116%。
                    中欧班列成为连接中国与欧洲的重要物流通道促进了“一带一路"沿线国家的经贸合作。</p>

            </div>
        </div>


        <h2>方块疾驰，高铁之速</h2>

        <h3>
            点击
            <img src="static/image/exploration/5-10.png" alt="方向键"
                style="width: 60px; vertical-align: middle; display: inline-block;">
            开始游戏。
        </h3>
        <p>在这个游戏中，你将化身为一条“高铁贪吃蛇”，穿梭在纵横交错的轨道上，体验高铁的速度与激情。你的任务是不断“吃掉”轨道上的“能量块”，就像高铁在行驶中不断吸收能量，提升速度一样。随着你的成长，挑战也会越来越难，看看你能否像中国高铁一样，突破极限，创造新的纪录！
        </p>

        <div class="container noselect">
            <div class="wrapper">

                <div id="ui">
                    <div class="df">得分
                        <span id="score">00</span>
                    </div>
                </div>
                <div id="canvas">

                </div>
                <button id="replay">
                    <i class="fas fa-play"></i>
                    重新开始
                </button>
            </div>

        </div>
        <script>

            let dom_replay = document.querySelector("#replay");
            let dom_score = document.querySelector("#score");
            let dom_canvas = document.createElement("canvas");
            document.querySelector("#canvas").appendChild(dom_canvas);
            let CTX = dom_canvas.getContext("2d");

            const W = (dom_canvas.width = 400);
            const H = (dom_canvas.height = 400);

            let snake,
                food,
                currentHue,
                cells = 20,
                cellSize,
                isGameOver = false,
                tails = [],
                score = 00,
                maxScore = window.localStorage.getItem("maxScore") || undefined,
                particles = [],
                splashingParticleCount = 20,
                cellsCount,
                requestID;

            let helpers = {
                Vec: class {
                    constructor(x, y) {
                        this.x = x;
                        this.y = y;
                    }
                    add(v) {
                        this.x += v.x;
                        this.y += v.y;
                        return this;
                    }
                    mult(v) {
                        if (v instanceof helpers.Vec) {
                            this.x *= v.x;
                            this.y *= v.y;
                            return this;
                        } else {
                            this.x *= v;
                            this.y *= v;
                            return this;
                        }
                    }
                },
                isCollision(v1, v2) {
                    return v1.x == v2.x && v1.y == v2.y;
                },
                garbageCollector() {
                    for (let i = 0; i < particles.length; i++) {
                        if (particles[i].size <= 0) {
                            particles.splice(i, 1);
                        }
                    }
                },
                drawGrid() {
                    CTX.lineWidth = 1.1;
                    CTX.strokeStyle = "#485d96";

                    CTX.shadowBlur = 0;
                    for (let i = 1; i < cells; i++) {
                        let f = (W / cells) * i;
                        CTX.beginPath();
                        CTX.moveTo(f, 0);
                        CTX.lineTo(f, H);
                        CTX.stroke();
                        CTX.beginPath();
                        CTX.moveTo(0, f);
                        CTX.lineTo(W, f);
                        CTX.stroke();
                        CTX.closePath();
                    }
                },
                randHue() {
                    return ~~(Math.random() * 360);
                },
                hsl2rgb(hue, saturation, lightness) {
                    if (hue == undefined) {
                        return [0, 0, 0];
                    }
                    var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;
                    var huePrime = hue / 60;
                    var secondComponent = chroma * (1 - Math.abs((huePrime % 2) - 1));

                    huePrime = ~~huePrime;
                    var red;
                    var green;
                    var blue;

                    if (huePrime === 0) {
                        red = chroma;
                        green = secondComponent;
                        blue = 0;
                    } else if (huePrime === 1) {
                        red = secondComponent;
                        green = chroma;
                        blue = 0;
                    } else if (huePrime === 2) {
                        red = 0;
                        green = chroma;
                        blue = secondComponent;
                    } else if (huePrime === 3) {
                        red = 0;
                        green = secondComponent;
                        blue = chroma;
                    } else if (huePrime === 4) {
                        red = secondComponent;
                        green = 0;
                        blue = chroma;
                    } else if (huePrime === 5) {
                        red = chroma;
                        green = 0;
                        blue = secondComponent;
                    }

                    var lightnessAdjustment = lightness - chroma / 2;
                    red += lightnessAdjustment;
                    green += lightnessAdjustment;
                    blue += lightnessAdjustment;

                    return [
                        Math.round(red * 255),
                        Math.round(green * 255),
                        Math.round(blue * 255)
                    ];
                },
                lerp(start, end, t) {
                    return start * (1 - t) + end * t;
                }
            };

            let KEY = {
                KeyW: false,  // 上
                KeyD: false,  // 右
                KeyS: false,  // 下
                KeyA: false,  // 左
                resetState() {
                    this.KeyW = false;
                    this.KeyD = false;
                    this.KeyS = false;
                    this.KeyA = false;
                },
                listen() {
                    addEventListener(
                        "keydown",
                        (e) => {
                            if (e.code === "KeyW" && this.KeyS) return;  // 不能同时按下 W 和 S
                            if (e.code === "KeyS" && this.KeyW) return;  // 不能同时按下 S 和 W
                            if (e.code === "KeyA" && this.KeyD) return;  // 不能同时按下 A 和 D
                            if (e.code === "KeyD" && this.KeyA) return;  // 不能同时按下 D 和 A
                            this[e.code] = true;
                            Object.keys(this)
                                .filter((f) => f !== e.code && f !== "listen" && f !== "resetState")
                                .forEach((k) => {
                                    this[k] = false;
                                });
                        },
                        false
                    );
                }
            };


            class Snake {
                constructor(i, type) {
                    this.pos = new helpers.Vec(W / 2, H / 2);
                    this.dir = new helpers.Vec(0, 0);
                    this.type = type;
                    this.index = i;
                    this.delay = 5;
                    this.size = W / cells;
                    this.color = "white";
                    this.history = [];
                    this.total = 1;
                }
                draw() {
                    let { x, y } = this.pos;
                    CTX.fillStyle = this.color;
                    CTX.shadowBlur = 20;
                    CTX.shadowColor = "rgba(255,255,255,.3 )";
                    CTX.fillRect(x, y, this.size, this.size);
                    CTX.shadowBlur = 0;
                    if (this.total >= 2) {
                        for (let i = 0; i < this.history.length - 1; i++) {
                            let { x, y } = this.history[i];
                            CTX.lineWidth = 1;
                            CTX.fillStyle = "rgba(225,225,225,1)";
                            CTX.fillRect(x, y, this.size, this.size);
                        }
                    }
                }
                walls() {
                    let { x, y } = this.pos;
                    if (x + cellSize > W) {
                        this.pos.x = 0;
                    }
                    if (y + cellSize > W) {
                        this.pos.y = 0;
                    }
                    if (y < 0) {
                        this.pos.y = H - cellSize;
                    }
                    if (x < 0) {
                        this.pos.x = W - cellSize;
                    }
                }
                controlls() {
                    let dir = this.size;
                    if (KEY.KeyW) {
                        this.dir = new helpers.Vec(0, -dir);  // 上
                    }
                    if (KEY.KeyS) {
                        this.dir = new helpers.Vec(0, dir);  // 下
                    }
                    if (KEY.KeyA) {
                        this.dir = new helpers.Vec(-dir, 0);  // 左
                    }
                    if (KEY.KeyD) {
                        this.dir = new helpers.Vec(dir, 0);  // 右
                    }
                }

                selfCollision() {
                    for (let i = 0; i < this.history.length; i++) {
                        let p = this.history[i];
                        if (helpers.isCollision(this.pos, p)) {
                            isGameOver = true;
                        }
                    }
                }
                update() {
                    this.walls();
                    this.draw();
                    this.controlls();
                    if (!this.delay--) {
                        if (helpers.isCollision(this.pos, food.pos)) {
                            incrementScore();
                            particleSplash();
                            food.spawn();
                            this.total++;
                        }
                        this.history[this.total - 1] = new helpers.Vec(this.pos.x, this.pos.y);
                        for (let i = 0; i < this.total - 1; i++) {
                            this.history[i] = this.history[i + 1];
                        }
                        this.pos.add(this.dir);
                        this.delay = 5;
                        this.total > 3 ? this.selfCollision() : null;
                    }
                }
            }

            class Food {
                constructor() {
                    this.pos = new helpers.Vec(
                        ~~(Math.random() * cells) * cellSize,
                        ~~(Math.random() * cells) * cellSize
                    );
                    this.color = currentHue = `hsl(${~~(Math.random() * 360)},100%,50%)`;
                    this.size = cellSize;
                }
                draw() {
                    let { x, y } = this.pos;
                    CTX.globalCompositeOperation = "lighter";
                    CTX.shadowBlur = 20;
                    CTX.shadowColor = this.color;
                    CTX.fillStyle = this.color;
                    CTX.fillRect(x, y, this.size, this.size);
                    CTX.globalCompositeOperation = "source-over";
                    CTX.shadowBlur = 0;
                }
                spawn() {
                    let randX = ~~(Math.random() * cells) * this.size;
                    let randY = ~~(Math.random() * cells) * this.size;
                    for (let path of snake.history) {
                        if (helpers.isCollision(new helpers.Vec(randX, randY), path)) {
                            return this.spawn();
                        }
                    }
                    this.color = currentHue = `hsl(${helpers.randHue()}, 100%, 50%)`;
                    this.pos = new helpers.Vec(randX, randY);
                }
            }

            class Particle {
                constructor(pos, color, size, vel) {
                    this.pos = pos;
                    this.color = color;
                    this.size = Math.abs(size / 2);
                    this.ttl = 0;
                    this.gravity = -0.2;
                    this.vel = vel;
                }
                draw() {
                    let { x, y } = this.pos;
                    let hsl = this.color
                        .split("")
                        .filter((l) => l.match(/[^hsl()$% ]/g))
                        .join("")
                        .split(",")
                        .map((n) => +n);
                    let [r, g, b] = helpers.hsl2rgb(hsl[0], hsl[1] / 100, hsl[2] / 100);
                    CTX.shadowColor = `rgb(${r},${g},${b},${1})`;
                    CTX.shadowBlur = 0;
                    CTX.globalCompositeOperation = "lighter";
                    CTX.fillStyle = `rgb(${r},${g},${b},${1})`;
                    CTX.fillRect(x, y, this.size, this.size);
                    CTX.globalCompositeOperation = "source-over";
                }
                update() {
                    this.draw();
                    this.size -= 0.3;
                    this.ttl += 1;
                    this.pos.add(this.vel);
                    this.vel.y -= this.gravity;
                }
            }

            function incrementScore() {
                score++;
                dom_score.innerText = score.toString().padStart(2, "0");
            }

            function particleSplash() {
                for (let i = 0; i < splashingParticleCount; i++) {
                    let vel = new helpers.Vec(Math.random() * 6 - 3, Math.random() * 6 - 3);
                    let position = new helpers.Vec(food.pos.x, food.pos.y);
                    particles.push(new Particle(position, currentHue, food.size, vel));
                }
            }

            function clear() {
                CTX.clearRect(0, 0, W, H);
            }

            function initialize() {
                CTX.imageSmoothingEnabled = false;
                KEY.listen();
                cellsCount = cells * cells;
                cellSize = W / cells;
                snake = new Snake();
                food = new Food();
                dom_replay.addEventListener("click", reset, false);
                loop();
            }

            function loop() {
                clear();
                if (!isGameOver) {
                    requestID = setTimeout(loop, 1000 / 60);
                    helpers.drawGrid();
                    snake.update();
                    food.draw();
                    for (let p of particles) {
                        p.update();
                    }
                    helpers.garbageCollector();
                } else {
                    clear();
                    gameOver();
                }
            }

            function gameOver() {
                maxScore ? null : (maxScore = score);
                score > maxScore ? (maxScore = score) : null;
                window.localStorage.setItem("maxScore", maxScore);
                CTX.fillStyle = "#4cffd7";
                CTX.textAlign = "center";
                CTX.font = "bold 30px Poppins, sans-serif";
                CTX.fillText("游戏结束", W / 2, H / 2);
                CTX.font = "15px Poppins, sans-serif";
                CTX.fillText(`SCORE   ${score}`, W / 2, H / 2 + 60);
                CTX.fillText(`MAXSCORE   ${maxScore}`, W / 2, H / 2 + 80);
            }

            function reset() {
                dom_score.innerText = "00";
                score = "00";
                snake = new Snake();
                food.spawn();
                KEY.resetState();
                isGameOver = false;
                clearTimeout(requestID);
                loop();
            }

            initialize();

        </script>

        <div class="page" id="page2">
            <!-- 将通过 JavaScript 加载 Exploration2 的内容 -->
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const page1 = document.getElementById('page1');
                const page2 = document.getElementById('page2');
                let isTransitioning = false;
                let hasReachedBottom = false;

                // 预加载 Exploration2 的内容
                fetch('Exploration6.html')
                    .then(response => response.text())
                    .then(html => {
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = html;
                        const content = tempDiv.querySelector('body').innerHTML;
                        page2.innerHTML = content;
                    });

                window.addEventListener('scroll', function () {
                    if (window.innerHeight + window.scrollY >= document.documentElement.scrollHeight) {
                        hasReachedBottom = true;
                    }
                });

                window.addEventListener('wheel', function (event) {
                    if (hasReachedBottom && event.deltaY > 0 && !isTransitioning) {
                        isTransitioning = true;
                        document.body.style.overflow = 'hidden';
                        window.scrollTo(0, 0);

                        // 同时开始两个页面的动画
                        page1.classList.add('slide-up');
                        page2.style.transform = 'translateY(-100%)';

                        // 动画结束后跳转
                        setTimeout(() => {
                            window.location.href = 'Exploration6.html';
                        }, 4000);
                    }
                });
            });
        </script>
    </div>
</body>

</html>